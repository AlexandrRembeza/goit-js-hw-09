{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAGeC,SAASC,cAAc,SAC/BC,iBAAiB,UAIxB,SAAqCC,GACnCA,EAAEC,iBAEF,IAAMC,EAAa,GACF,IAAIC,SAASH,EAAEI,eAEvBC,SAAQ,SAACC,EAAOC,G,OAAUL,EAAWK,GAAQC,OAAOF,MAE7DN,EAAEI,cAAcK,QAuBKC,EArBPR,EAqBSS,EAAFD,EAAEC,OAAQC,EAAVF,EAAUE,MAAOC,EAAjBH,EAAiBG,KAC/BC,YAAW,WAChB,IAAK,IAAIC,EAAI,EAAGA,GAAKJ,EAAQI,GAAK,EAAG,CACnC,GAAIA,EAAIJ,EAEN,YADAK,cArCM,MAyCYC,KAAKC,SAAW,GAGlCC,QAAQC,QAAQ,uBAAiCC,OAARN,EAAE,QAAYM,OAANT,EAAM,OAAKU,MACxD,SAAFhB,GACEQ,YAAW,WACTS,EAAA5B,GAAS6B,OAAOC,QAAQ,GAASJ,OAANf,GAAS,CAClCoB,MAAO,QACPC,SAAU,YACVC,cAAc,EACdC,QAAS,QACTC,SAAU,WAEXjB,MAIPM,QAAQY,OAAO,sBAA8BV,OAARN,EAAE,QAAYM,OAANT,EAAM,OAAKoB,OACtD,SAAA1B,GACEQ,YAAW,WACTS,EAAA5B,GAAS6B,OAAOS,QAAQ,GAASZ,OAANf,GAAS,CAClCoB,MAAO,QACPC,SAAU,YACVC,cAAc,EACdC,QAAS,QACTC,SAAU,WAEXjB,MAKTD,GAASC,KAEVD,GA1CL,IAAuBF,EAAEC,EAAQC,EAAOC,K","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport 'notiflix/dist/notiflix-3.2.5.min.css';\n\nconst formEL = document.querySelector('.form');\nformEL.addEventListener('submit', getFormValuesAndGetMessages);\n\nlet timerId = null;\n\nfunction getFormValuesAndGetMessages(e) {\n  e.preventDefault();\n\n  const formValues = {};\n  const formData = new FormData(e.currentTarget);\n\n  formData.forEach((value, name) => (formValues[name] = Number(value)));\n\n  e.currentTarget.reset();\n\n  createPromise(formValues);\n  // .then(value => {\n  //   Notiflix.Notify.success(`${value}`, {\n  //     width: '400px',\n  //     position: 'right-top',\n  //     clickToClose: true,\n  //     svgSize: '120px',\n  //     fontSize: '18px',\n  //   });\n  // })\n  // .catch(value => {\n  //   Notiflix.Notify.failure(`${value}`, {\n  //     width: '400px',\n  //     position: 'right-top',\n  //     clickToClose: true,\n  //     svgSize: '120px',\n  //     fontSize: '18px',\n  //   });\n  // });\n}\n\nfunction createPromise({ amount, delay, step }) {\n  return setTimeout(() => {\n    for (let i = 1; i <= amount; i += 1) {\n      if (i > amount) {\n        clearInterval(timerId);\n        return;\n      }\n\n      let shouldResolve = Math.random() > 0.3;\n\n      if (shouldResolve) {\n        Promise.resolve(`✅ Fulfilled promise ${i} in ${delay}ms`).then(\n          value => {\n            setTimeout(() => {\n              Notiflix.Notify.success(`${value}`, {\n                width: '400px',\n                position: 'right-top',\n                clickToClose: true,\n                svgSize: '120px',\n                fontSize: '18px',\n              });\n            }, step);\n          }\n        );\n      } else {\n        Promise.reject(`❌ Rejected promise ${i} in ${delay}ms`).catch(\n          value => {\n            setTimeout(() => {\n              Notiflix.Notify.failure(`${value}`, {\n                width: '400px',\n                position: 'right-top',\n                clickToClose: true,\n                svgSize: '120px',\n                fontSize: '18px',\n              });\n            }, step);\n          }\n        );\n      }\n\n      delay += step;\n    }\n  }, delay);\n}\n"],"names":["$iU1Pc","parcelRequire","document","querySelector","addEventListener","e","preventDefault","formValues","FormData","currentTarget","forEach","value","name","Number","reset","param","amount","delay","step","setTimeout","i","clearInterval","Math","random","Promise","resolve","concat","then","$parcel$interopDefault","Notify","success","width","position","clickToClose","svgSize","fontSize","reject","catch","failure"],"version":3,"file":"03-promises.3055606a.js.map"}